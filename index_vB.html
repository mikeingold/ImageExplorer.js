<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3.js Interactive Image Map</title>
    <link rel="stylesheet" href="styles_vB.css">
    <script src="d3.min.js"></script>
</head>
<body>
    <header id="banner">
        <span>mikeingold.github.io</span>
    </header>

    <div id="container"></div>
    
    <div class="tooltip" id="tooltip">
        <h3 id="tooltip-title"></h3>
        <p id="tooltip-description"></p>
    </div>

    <!-- Hidden file input for image upload -->
    <input type="file" id="image-upload" class="image-upload" accept="image/*">

    <!-- Dev mode toggle button - bottom-left corner -->
    <button class="round-btn" id="dev-mode-toggle" title="Developer Tools">
        <span>âš™</span>
    </button>

    <!-- Dev mode controls panel - appears when dev mode is active -->
    <div class="dev-controls" id="dev-controls">
        <span class="dev-mode-label">Developer Tools</span>
        <button id="load-image-btn">Load New Image</button>
        <button id="trace-btn">Trace a Polygon</button>
        <button id="finish-btn" style="display:none;">Finish Polygon</button>
        <button id="cancel-btn" style="display:none;">Cancel</button>
    </div>

    <!-- Reset button - bottom-right, left of zoom controls -->
    <button class="round-btn" id="reset-btn" title="Reset Workspace">
        <span>â†»</span>
    </button>

    <!-- Upper/Lower Buttons  -->
    <div class="view-controls">
        <button class="round-btn view-btn active" id="upper-view-btn" title="Upper View">
            <span>U</span>
        </button>
        <button class="round-btn view-btn" id="lower-view-btn" title="Lower View">
            <span>L</span>
        </button>
    </div>

    <!-- Zoom control buttons in bottom-right -->
    <div class="zoom-controls">
        <button class="round-btn" id="zoom-in-btn" title="Zoom In">
            <span>+</span>
        </button>
        <button class="round-btn" id="zoom-out-btn" title="Zoom Out">
            <span>âˆ’</span>
        </button>
    </div>

    <!-- Dev Tools panel -->
    <div id="dev-modal">
        <div class="modal-content">
            <h2>
                <span>New Polygon Data</span>
                <span class="copy-icon" id="copy-icon" title="Copy JSON">ðŸ“‹</span>
            </h2>
            <label>ID</label>
            <input type="text" id="polygon-id" placeholder="new-id">
            <label>Name</label>
            <input type="text" id="polygon-name" placeholder="New Feature Name">
            <label>Description</label>
            <input type="text" id="polygon-desc" placeholder="New feature description">
            <label>JSON Output</label>
            <textarea id="json-output" readonly></textarea>
            <div class="modal-buttons">
                <button class="success" id="keep-polygon-btn">Keep</button>
                <button class="danger" id="discard-polygon-btn">Discard</button>
            </div>
        </div>
    </div>

    <!-- Reset confirmation modal -->
    <div id="reset-modal">
        <div class="modal-content">
            <h2>Confirm Reset</h2>
            <p style="margin-bottom: 20px; line-height: 1.6;">This will reset the view and delete all user-generated polygons. This action cannot be undone.</p>
            <div class="modal-buttons">
                <button class="danger" id="confirm-reset-btn">Reset Everything</button>
                <button class="secondary" id="cancel-reset-btn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="app_vB.js"></script>
</body>
</html>